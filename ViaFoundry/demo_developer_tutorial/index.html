
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Via Foundry Team">
      
      
      
        <link rel="prev" href="../demo_single_cell_rna-seq_tutorial/">
      
      
        <link rel="next" href="../demo_metadata-basics/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>Developer Tutorial - Creating Pipeline - Via Foundry Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Via Foundry Documentation" class="md-header__button md-logo" aria-label="Via Foundry Documentation" data-md-component="logo">
      
  <img src="../../images/via_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Via Foundry Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Developer Tutorial - Creating Pipeline
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Via Foundry Documentation" class="md-nav__button md-logo" aria-label="Via Foundry Documentation" data-md-component="logo">
      
  <img src="../../images/via_icon.png" alt="logo">

    </a>
    Via Foundry Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Platform Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline_example/" class="md-nav__link">
        Pipeline Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cite/" class="md-nav__link">
        How To Cite Us
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../get_faq/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../news/" class="md-nav__link">
        News
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_rna-seq_tutorial/" class="md-nav__link">
        Running RNA-Seq Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_single_cell_rna-seq_tutorial/" class="md-nav__link">
        Running Cellranger Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Developer Tutorial - Creating Pipeline
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Developer Tutorial - Creating Pipeline
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#foundry-provides" class="md-nav__link">
    Foundry provides:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expected-learning-outcome" class="md-nav__link">
    Expected learning outcome
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    Before you start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-1-creating-processes" class="md-nav__link">
    Exercise 1 - Creating processes
  </a>
  
    <nav class="md-nav" aria-label="Exercise 1 - Creating processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-process" class="md-nav__link">
    What is a "process"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-process-we-will-create-in-this-exercise" class="md-nav__link">
    The process we will create in this exercise;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-fastqc-process" class="md-nav__link">
    1. FastQC process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-hisat2-process" class="md-nav__link">
    2. Hisat2 process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rseqc-process" class="md-nav__link">
    3. RSeQC process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-2-building-a-pipeline" class="md-nav__link">
    Exercise 2 - Building a pipeline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-3-executing-a-pipeline" class="md-nav__link">
    Exercise 3 - Executing a pipeline
  </a>
  
    <nav class="md-nav" aria-label="Exercise 3 - Executing a pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-collection" class="md-nav__link">
    Creating Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-pipeline" class="md-nav__link">
    Running Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reports" class="md-nav__link">
    Reports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_metadata-basics/" class="md-nav__link">
        Metadata Tracker - Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_metadata-geo/" class="md-nav__link">
        Metadata Tracker - NCBI-GEO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_metadata-portal/" class="md-nav__link">
        Metadata Portal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo_run_submission_api/" class="md-nav__link">
        Run Submission through API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quick/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        Project Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run/" class="md-nav__link">
        Run Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        App Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metadata_guide/" class="md-nav__link">
        Metadata Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../profile/" class="md-nav__link">
        Profile Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Developer Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Developer Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline_guide/" class="md-nav__link">
        Pipeline Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../process/" class="md-nav__link">
        Process Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../app_developer_guide/" class="md-nav__link">
        Application Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          App Library
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          App Library
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gsea_explorer/" class="md-nav__link">
        GSEA Explorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network_explorer/" class="md-nav__link">
        Network Explorer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Administrator Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Administrator Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admin-installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admin-configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admin-pipeline-testing/" class="md-nav__link">
        Testing Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../admin-installation-apps/" class="md-nav__link">
        APP Section
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#foundry-provides" class="md-nav__link">
    Foundry provides:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expected-learning-outcome" class="md-nav__link">
    Expected learning outcome
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    Before you start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-1-creating-processes" class="md-nav__link">
    Exercise 1 - Creating processes
  </a>
  
    <nav class="md-nav" aria-label="Exercise 1 - Creating processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-process" class="md-nav__link">
    What is a "process"?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-process-we-will-create-in-this-exercise" class="md-nav__link">
    The process we will create in this exercise;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-fastqc-process" class="md-nav__link">
    1. FastQC process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-hisat2-process" class="md-nav__link">
    2. Hisat2 process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rseqc-process" class="md-nav__link">
    3. RSeQC process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-2-building-a-pipeline" class="md-nav__link">
    Exercise 2 - Building a pipeline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-3-executing-a-pipeline" class="md-nav__link">
    Exercise 3 - Executing a pipeline
  </a>
  
    <nav class="md-nav" aria-label="Exercise 3 - Executing a pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-collection" class="md-nav__link">
    Creating Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-pipeline" class="md-nav__link">
    Running Pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reports" class="md-nav__link">
    Reports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Developer Tutorial - Creating Pipeline</h1>

<div><h2 id="introduction">Introduction</h2>
<p>Via Foundry is an easy-to-use platform for creating, deploying, and executing complex nextflow pipelines for high throughput data processing.</p>
<h2 id="foundry-provides">Foundry provides:</h2>
<ol>
<li>A drag and drop user interface to build nextflow pipelines</li>
<li>Reproducible pipelines with version tracking </li>
<li>Seamless portability to different computing environments with containerization</li>
<li>Simplified pipeline sharing using GitHub (github.com)</li>
<li>Support for continuous integration and tests (travis-ci.org)</li>
<li>Easy re-execution of pipelines by copying previous runs settings</li>
<li>Integrated data analysis and reporting interface with R markdown support</li>
</ol>
<p><strong>Our aim is;</strong></p>
<ol>
<li>Reusability</li>
<li>Reproducibility</li>
<li>Shareability</li>
<li>Easy execution</li>
<li>Easy monitoring</li>
<li>Easy reporting</li>
</ol>
<h2 id="expected-learning-outcome">Expected learning outcome</h2>
<p>To understand the basics of Foundry, how to use pipeline builder for different objectives and to familiarize yourself with Nextflow and some standard software packages for such analysis. This guide will walk you through how to start using Foundry pipelines and creating new pipelines.</p>
<h2 id="before-you-start">Before you start</h2>
<p>Please go to <a href="https://viafoundry.com">https://viafoundry.com</a> and login into your account. If you have an issue about login, please let us know about it (support@viascientific.com). We will set an account for you.</p>
<h2 id="exercise-1-creating-processes">Exercise 1 - Creating processes</h2>
<p>Once logged in, click on the <code>Projects</code> section at the top menu and click <code>Add a New Project</code> button. This is the place to configure your project. To access pipeline builder page, click <code>Pipelines</code> tab and then click <code>Create Pipeline</code> button. </p>
<p><img alt="image" src="../../images/build0-builderpage.png"></p>
<p>Now you can write a descripton about your pipeline using <code>Description</code> tab, start developing your pipeline using <code>Workflow</code> tab, and adding extra files or setting some extra parameters using <code>Advanced</code> tab. Let's get into some details about the pipeline elements.</p>
<p><img alt="image" src="../../images/build1-builderpage.png"></p>
<h3 id="what-is-a-process">What is a "process"?</h3>
<p>Process is a basic programming element in Nextflow to run user scripts. Please <a href="https://www.nextflow.io/docs/latest/process.html">click here</a> to learn more about Nextflow's processes.</p>
<p>A process usually has inputs, outputs and script sections. In this tutorial, you will see sections that include necesseary information to define a process shown in the left side of the picture below. Please, use that information to fill "Add new process" form shown in the middle section in the picture below. Foundry will then convert this information to a nextflow process shown in the left side of the picture. Once a process created, it can be used in the pipeline builder. The example how it looks is shown in the bottom left side in the picture. The mapping between the sections shown in colored rectangles.      </p>
<p><img alt="image" src="../../images/build-processmapping.png"></p>
<h3 id="the-process-we-will-create-in-this-exercise">The process we will create in this exercise;</h3>
<ol>
<li>FastQC process</li>
<li>Hisat2 process</li>
<li>RSeQC process</li>
</ol>
<p>You’ll notice several buttons at the left menu. New processes are created by clicking blue <code>New process</code> button <img alt="image" src="../../images/addprocessbutton.png" width="4%">.</p>
<h3 id="1-fastqc-process">1. FastQC process</h3>
<p><strong>a.</strong> First, please click, blue <code>New process</code> button <img alt="image" src="../../images/addprocessbutton.png" width="4%"> in the left menu to open "Add New Process" window.</p>
<p><strong>b.</strong> Please enter FastQC for the process name and define a new "Menu Group". </p>
<p><img alt="image" src="../../images/build2-fastqc-addmenugroup.png"></p>
<p><strong>c.</strong> In the FastQC process, we have an input, an output and a line of a command we are going to use to execute the fastqc process.</p>
<div class="highlight"><pre><span></span><code>Name: "FastQC"
Menu Group: "Tutorial"
Inputs: 
  reads(fastq,set) name: val(name),file(reads)

Outputs: 
  outputFileHTML(html,file) name: "*.html"

Script:
  fastqc ${reads}
</code></pre></div>
<p><strong>d.</strong> Lets select input and output parameters (<code>reads</code> and <code>outputFileHTML</code>) and define their "Input Names" that we are going to use in the script section.</p>
<p><img alt="image" src="../../images/build5-fastqc-parameters.png"></p>
<p><strong>e.</strong> Let's enter the script section</p>
<p><img alt="image" src="../../images/build6-fastqc-script.png"></p>
<p><strong>f.</strong> Press "Save changes" button at the bottom of the modal to create the process. Now this process is ready to use. We will use it in the Exercise 2.</p>
<h3 id="2-hisat2-process">2. Hisat2 process</h3>
<p>Let's create Hisat2 process. </p>
<p><strong>a.</strong> First, please click, blue “New process” button to open "Add New Process" modal.</p>
<p><strong>b.</strong> Inputs, outputs and scripts should be defined like below;</p>
<div class="highlight"><pre><span></span><code>Name: "Hisat2"
Menu Group: "Tutorial"
Inputs: 
  reads(fastq,set) name: val(name),file(reads)
  hisat2Index(file) name: hisat2Index

Outputs: 
  mapped_reads(bam,set) name: val(name), file("${name}.bam")
  outputFileTxt(txt,file) name: "${name}.align_summary.txt"

Script:
  basename=\$(basename ${hisat2Index}/*.8.ht2 | cut -d. -f1)
  hisat2 -x ${hisat2Index}/\${basename} -U ${reads} -S ${name}.sam &amp;&gt; ${name}.align_summary.txt
  samtools view -bS ${name}.sam &gt; ${name}.bam 
</code></pre></div>
<p><strong>c.</strong> After you select input(<code>reads</code> and <code>hisat2Index</code>) and output parameters (<code>mapped_reads</code> and <code>outputFileTxt</code>), add their names and enter the script. The page should look like this;</p>
<p><img alt="image" src="../../images/build11-hisat2.png"></p>
<p><strong>d.</strong> Please save changes before you close the screen.</p>
<h3 id="3-rseqc-process">3. RSeQC process</h3>
<p><strong>a.</strong> First, please click, blue “New process” button to open "Add New Process" modal.</p>
<p><strong>b.</strong> The form should be filled using the information below;</p>
<div class="highlight"><pre><span></span><code>Name: "RSeQC"
Menu Group: "Tutorial"
Inputs:
  mapped_reads(bam,set) name: val(name), file(bam)
  bedFile(bed,file) name: bed

Outputs: 
  outputFileTxt(txt,file) name: "RSeQC.${name}.txt"

Script:
  read_distribution.py  -i ${bam} -r ${bed}&gt; RSeQC.${name}.txt
</code></pre></div>
<p><strong>c.</strong> After you select input output parameters, enter their names and the script. The page should look like this;</p>
<p><img alt="image" src="../../images/build13-RSeQC-process.png"></p>
<p><strong>d.</strong> Please, save changes before you close the screen.</p>
<p>Here Exercise 1 is finished. Please move to Exercise 2 to build the pipeline using the processes you created in Exercise 1. </p>
<h2 id="exercise-2-building-a-pipeline">Exercise 2 - Building a pipeline</h2>
<p>Before you start building the pipeline make sure you have the processes available in your Process Menu.</p>
<p><img alt="image" src="../../images/processList.png" width="20%"></p>
<p><strong>a.</strong> At the top of the page, you’ll notice <code>Pipeline Name</code> box. You can rename your pipeline by clicking here. Please enter a name to your pipeline. E.g. "RNA-Seq-Tutorial" and press save button.</p>
<p><img alt="image" src="../../images/build14-menu.png"></p>
<p><strong>b.</strong> Please drag and drop FastQC, Hisat2 and RSeQC to your workspace;</p>
<p><img alt="image" src="../../images/build15-drag-drop.png"></p>
<p><strong>c.</strong> Please drag and drop three <code>Input parameters</code> and change their names to <code>Input_Reads</code>, <code>Hisat2_Index</code> and <code>bedFile</code> and connect them to their processes;  </p>
<p><img alt="image" src="../../images/inputParameters.jpg" width="30%">
<img alt="image" src="../../images/workflow1.png"></p>
<p><strong>d.</strong> Connect your Hisat2 process with RSeQC process using mapped_reads parameter in both. You will observe that, when the types match you can connect the two processes using their matching input and output parameters.</p>
<p><strong>e.</strong> Drag &amp; Drop three <code>output parameters</code> from the sidebar </p>
<p><img alt="image" src="../../images/outputParameters.png" width="30%"></p>
<p>and name them <code>FastQC_output</code>, <code>Hisat2_Summary</code>, and <code>RSeQC_output</code> and connect them to their corresponding processes. While naming, click their "Publish to Web Directory" and choose the right output format according to the output type of the process.</p>
<p><img alt="image" src="../../images/build16-name1.png" width="50%">
<img alt="image" src="../../images/build17-name2.png" width="50%">
<img alt="image" src="../../images/build18-name3.png" width="50%"></p>
<p><strong>f.</strong> Overall pipeline should look like below;</p>
<p><img alt="image" src="../../images/build19-pipeline.png"></p>
<h2 id="exercise-3-executing-a-pipeline">Exercise 3 - Executing a pipeline</h2>
<p><strong>1.</strong> Once a pipeline is created, you will notice “Run” button at the right top of the page.</p>
<p><img alt="image" src="../../images/project_runbutton.png" width="20%"></p>
<p><strong>2.</strong> This button opens a new window where you can select your project by clicking on the project.
You will then proceed by entering run name which will be added to your run list of the project. Clicking “Save run” will redirect you to the “run page” where you can initiate your run.</p>
<p><img alt="image" src="../../images/execute2_enter_runname.png"></p>
<p><strong>3.</strong> Here, please choose your <code>Run Environment</code> (Via Demo Environment(AWS Batch))</p>
<p><img alt="image" src="../../images/runEnvSelect.png"></p>
<p><strong>4.</strong> Then click the <code>Advanced</code> tab and go to <code>Run Container</code> section. Click <code>Use Docker Image</code> and enter the<code>Image Path</code> below;</p>
<p></p><div class="highlight"><pre><span></span><code>Run Container:
Use Docker Image: Checked
Image Path: public.ecr.aws/t4w5x8f2/viascientific/rnaseq:3.0
</code></pre></div>
<img alt="image" src="../../images/dockerSelect2.png">
<p><strong>5.</strong> Now, we are ready to enter the inputs we defined for the pipeline. 
  Click the <code>Run Settings</code> tab to enter bed file. Please use the <strong>Manually</strong> tab.</p>
<div class="highlight"><pre><span></span><code>bedFile:  s3://viascientific/run_data/genome_data/mousetest/mm10/refseq_170804/genes/genes.bed
</code></pre></div>
<p><img alt="image" src="../../images/bedFile.png"></p>
<p><strong>6.</strong> Second, enter the hisat2 index directory. Please use the <strong>Manually</strong> tab. 
</p><div class="highlight"><pre><span></span><code>Hisat2_Index: s3://viascientific/run_data/genome_data/mousetest/mm10/refseq_170804/Hisat2Index
</code></pre></div>
<p><img alt="image" src="../../images/hisat2IndexFile.png"></p>
<h4 id="creating-collection">Creating Collection</h4>
<p><strong>7.</strong>  To enter Input_Reads, click <code>Enter File</code> button. Then go to <code>Files</code> Tab and click "Add File" button.</p>
<p><img alt="image" src="../../images/execute6_add_files.png"></p>
<p><strong>8.</strong>  Enter the location of your files and click <strong>Search button</strong> to get the list of files: </p>
<p>File Location:
</p><div class="highlight"><pre><span></span><code>s3://viascientific/run_data/test_data/fastq_mouse_single
</code></pre></div>
<p><img alt="image" src="../../images/fileLocation.png"></p>
<p><strong>8.</strong> Then please choose <code>Single List</code> for the <strong>Collection Type</strong> and press <code>add all files</code> button.</p>
<p><strong>9.</strong> Here there is an option to change the names but we will keep them as they are. Enter a collection name and click "save files".
</p><div class="highlight"><pre><span></span><code>collection name: test collection
</code></pre></div>
<img alt="image" src="../../images/enter_collectionname.png">
<p><strong>10.</strong> In the next screen, the user can still add or remove some samples. Let's click "Save file" button to process all samples.</p>
<p><img alt="image" src="../../images/execute_9_choosefiles.png"></p>
<h4 id="running-pipeline">Running Pipeline</h4>
<p><strong>11.</strong> After we fill the inputs, the orange "Waiting" button at the top right should turn to green "Run" button. Now, you can press that button to start your run.</p>
<p><strong>12.</strong> All run should finish in a couple of minutes. When the run finalized the log section will be look like below;</p>
<p><strong>a. Logs</strong>:</p>
<p><img alt="image" src="../../images/log_time.png"></p>
<p><strong>b. Timeline</strong>:
  <img alt="image" src="../../images/timeline2.png"></p>
<h4 id="reports">Reports</h4>
<p><strong>13.</strong> In the report section, you can monitor all defined reports in the pipeline;</p>
<p><strong>a. FastQC</strong>
  <img alt="image" src="../../images/execute15_FastQC.png"></p>
<p><strong>b. Hisat2</strong>
  <img alt="image" src="../../images/execute16_Hisat2.png"></p>
<p><strong>c. RSeQC</strong>
  <img alt="image" src="../../images/execute17_RSeQC.png"></p></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2023 by Via Scientific
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>